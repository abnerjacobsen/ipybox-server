# ipybox FastAPI Server Configuration
# Copy this file to .env and adjust values as needed

# === Server Configuration ===

# Host to bind the server to
# Use 0.0.0.0 to listen on all interfaces
# Use 127.0.0.1 for local-only access
IPYBOX_HOST=0.0.0.0

# Port to bind the server to
IPYBOX_PORT=8000

# API key for authentication
# Leave empty to disable authentication
# Example: IPYBOX_API_KEY=mysecretkey
IPYBOX_API_KEY=

# Default Docker image tag to use for containers
# Format: repository/image:tag
IPYBOX_DEFAULT_TAG=ghcr.io/gradion-ai/ipybox

# === Container Lifecycle ===

# Interval in seconds between container cleanup checks
# Default: 300 (5 minutes)
IPYBOX_CLEANUP_INTERVAL=300

# Maximum idle time in seconds before a container is removed
# Default: 3600 (1 hour)
IPYBOX_MAX_IDLE_TIME=3600

# === Security & Network ===

# Comma-separated list of allowed CORS origins
# Use * to allow all origins (not recommended for production)
# Example: IPYBOX_CORS_ORIGINS=http://localhost:3000,https://myapp.example.com
IPYBOX_CORS_ORIGINS=*

# Logging level (DEBUG, INFO, WARNING, ERROR, CRITICAL)
IPYBOX_LOG_LEVEL=INFO

# === Docker Configuration ===

# Docker host URL
# Default uses Unix socket for local Docker daemon
DOCKER_HOST=unix:///var/run/docker.sock

# === Development Settings ===

# Enable development mode with hot reload
# Set to "true" to enable, any other value or empty disables it
DEV_MODE=false

# === Advanced Settings ===

# Docker compose settings
COMPOSE_PROJECT_NAME=ipybox-server
RESTART_POLICY=unless-stopped
MOUNT_MODE=rw

# Optional: TLS/HTTPS with nginx
NGINX_PORT=443
